[toolchain]
anchor_version = "0.31.1"
solana_version = "2.2.20"
package_manager = "yarn"

[features]
resolution = true
skip-lint = false

[programs.devnet]
depredict = "B59K5U1aam8BCJ428UELFZin6zjJeL2zbzsJdDtfqVwC"

[programs.localnet]
depredict = "B59K5U1aam8BCJ428UELFZin6zjJeL2zbzsJdDtfqVwC"

[registry]
url = "https://api.apr.dev"

[provider]
cluster = "localnet"
wallet = "~/.config/solana/id.json"

[scripts]
test-all = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/run-all-tests.ts"
test-check-config = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/check-config.ts"
test-close-market = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/market/close-market.ts"
test-config = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/config.ts"
test-create-market = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/market/create-market.ts"
test-create-merkle-tree = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/create-merkle-tree.ts"
test-create-order = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/trade/create-order.ts"
test-create-real-mpl-collection = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/create-real-mpl-collection.ts"
test-create-sub-trade = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/user/create-subuser-trade.ts"
test-create-usdc-mint = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/create-usdc-mint.ts"
test-create-user = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/user/create-user.ts"
test-market-creator = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/market/market-creator.ts"
test-market-id-flow = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/test-market-id-flow.ts"
test-mint-pos = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/trade/mint-existing-position.ts"
test-order-flow = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/trade/order-flow.ts"
test-payout-nft = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/trade/payout-nft.ts"
test-payout-order = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/trade/payout-order.ts"
test-resolve-market = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/market/resolve-market.ts"
test-runner = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/run-all-tests.ts"
test-runner-continue = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/run-all-tests.ts -- --continue-on-failure"
test-runner-continue-verbose = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/run-all-tests.ts -- --continue-on-failure --verbose"
test-runner-verbose = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/run-all-tests.ts -- --verbose"
test-setup-market-creator-with-collection = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/setup-market-creator-with-collection.ts"
test-setup-markets = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/setup-markets.ts"
test-update-market = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/market/update-market.ts"
test-user-trade = "yarn run ts-mocha -p ./tsconfig.json -t 1000000 tests/user/create-user-trade.ts"

[test]
startup_wait = 5000
shutdown_wait = 2000
upgradeable = false

[test.validator]
bind_address = "127.0.0.1"
url = "https://devnet.helius-rpc.com/?api-key=52e2a914-28ac-4bd4-a222-1d44168db946"
ledger = ".anchor/test-ledger"
rpc_port = 8899
